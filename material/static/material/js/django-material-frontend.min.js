"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),DMCActionMenu=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"initialize",value:function(){var e=this;this.menuEl_=this.root_.querySelector(".mdc-simple-menu"),this.menu_=new mdc.menu.MDCSimpleMenu(this.menuEl_),this.menuEl_.addEventListener("MDCSimpleMenu:selected",function(e){var t=e.detail.item.dataset;t.dmcMenuHref&&(window.Turbolinks?Turbolinks.visit(t.dmcMenuHref):window.location=t.dmcMenuHref)}),this.trigger_=this.root_.querySelector("button.mdc-button"),this.onClick=function(t){e.menu_.open=!e.menu_.open},this.trigger_.addEventListener("click",this.onClick)}},{key:"destroy",value:function(){this.root_.removeEventListener("click",this.onClick)}}],[{key:"attachTo",value:function(e){return new t(e,new mdc.base.MDCFoundation)}}]),t}(mdc.base.MDCComponent);dmc.register("DMCActionMenu",DMCActionMenu);var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),DMCActiveNav=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"initialize",value:function(){var e=[].slice.call(this.root_.querySelectorAll(".mdc-list-item")).filter(function(e){return window.location.pathname.startsWith(e.pathname)});e.sort(function(e,t){return t.pathname.length-e.pathname.length}),e.length&&e[0].classList.add("mdc-permanent-drawer--selected")}}],[{key:"attachTo",value:function(e){return new t(e,new mdc.base.MDCFoundation)}}]),t}(mdc.base.MDCComponent);dmc.register("DMCActiveNav",DMCActiveNav);var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),DMCHeaderMenu=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"initialize",value:function(){var e=this;this.menuContainer_=document.getElementById(this.root_.dataset.toggleMenu),this.trigger_=this.root_.querySelector("button.mdc-button"),this.onClick=function(t){t.stopPropagation(),e.menuContainer_.classList.toggle("dmc-header-secondary-shown"),e.trigger_.classList.toggle("dmc-header-secondary-shown")},this.trigger_.addEventListener("click",this.onClick)}},{key:"destroy",value:function(){this.root_.removeEventListener("click",this.onClick)}}],[{key:"attachTo",value:function(e){return new t(e,new mdc.base.MDCFoundation)}}]),t}(mdc.base.MDCComponent);dmc.register("DMCHeaderMenu",DMCHeaderMenu);var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),DMCResponsiveDrawer=function(e){function t(){var e;_classCallCheck(this,t);for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];return _possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(n)))}return _inherits(t,e),_createClass(t,null,[{key:"attachTo",value:function(e){return new t(e,new mdc.base.MDCFoundation)}}]),_createClass(t,[{key:"initialize",value:function(){var e=this;this.reconcileDrawer_=0,this.temporalDrawer_=null,this.persistentDrawer_=null,this.drawer_=this.root_.querySelector("nav"),this.header_=this.drawer_.querySelector("header"),this.headerContent_=this.header_.querySelector("div"),this.content_=this.drawer_.querySelector("nav"),this.onResize=function(){cancelAnimationFrame(e.reconcileDrawer_),e.reconcileDrawer_=requestAnimationFrame(function(){return e.reconcileDrawer()})},window.addEventListener("resize",this.onResize),this.reconcileDrawer()}},{key:"destroy",value:function(){window.removeEventListener("resize",this.onResize),this.temporalDrawer_&&this.temporalDrawer_.destroy(),this.persistentDrawer_&&this.persistentDrawer_.destroy()}},{key:"reconcileDrawer",value:function(){var e=this.root_.classList;window.innerWidth<992&&(!e.contains("mdc-temporary-drawer")||null===this.temporalDrawer_)?(this.persistentDrawer_&&(this.persistentDrawer_.destroy(),this.persistentDrawer_=null),this.root_.classList.remove("mdc-persistent-drawer","mdc-persistent-drawer--open"),this.drawer_.classList.remove("mdc-persistent-drawer__drawer"),this.header_.classList.remove("mdc-persistent-drawer__header"),this.headerContent_.classList.remove("mdc-persistent-drawer__header-content"),this.content_.classList.remove("mdc-persistent-drawer__content"),this.root_.classList.add("mdc-temporary-drawer"),this.drawer_.classList.add("mdc-temporary-drawer__drawer"),this.header_.classList.add("mdc-temporary-drawer__header"),this.headerContent_.classList.add("mdc-temporary-drawer__header-content"),this.content_.classList.add("mdc-temporary-drawer__content"),this.temporalDrawer_=new mdc.drawer.MDCTemporaryDrawer(this.root_),this.drawer_.removeEventListener("click",this.temporalDrawer_.foundation_.drawerClickHandler_)):window.innerWidth>=992&&(!e.contains("mdc-persistent-drawer")||null===this.persistentDrawer_)&&(this.temporalDrawer_&&(this.temporalDrawer_.destroy(),this.temporalDrawer_=null),this.root_.classList.remove("mdc-temporary-drawer"),this.drawer_.classList.remove("mdc-temporary-drawer__drawer"),this.header_.classList.remove("mdc-temporary-drawer__header"),this.headerContent_.classList.remove("mdc-temporary-drawer__header-content"),this.content_.classList.remove("mdc-temporary-drawer__content"),this.root_.classList.add("mdc-persistent-drawer"),"closed"!=sessionStorage.getItem("dmc_site_drawer_state")?this.root_.classList.add("mdc-persistent-drawer--open"):this.root_.classList.remove("mdc-persistent-drawer--open"),this.drawer_.classList.add("mdc-persistent-drawer__drawer"),this.header_.classList.add("mdc-persistent-drawer__header"),this.headerContent_.classList.add("mdc-persistent-drawer__header-content"),this.content_.classList.add("mdc-persistent-drawer__content"),this.persistentDrawer_=new mdc.drawer.MDCPersistentDrawer(this.root_),this.drawer_.removeEventListener("click",this.persistentDrawer_.foundation_.drawerClickHandler_))}},{key:"open",get:function(){return this.persistentDrawer_?this.persistentDrawer_.open:this.temporalDrawer_.open},set:function(e){return this.persistentDrawer_?(sessionStorage.setItem("dmc_site_drawer_state",e?"open":"closed"),this.persistentDrawer_.open=e):this.temporalDrawer_.open=e}}]),t}(mdc.base.MDCComponent);dmc.register("DMCResponsiveDrawer",DMCResponsiveDrawer);var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),DMCScrollLockFix=function(){function e(t){var r=this;_classCallCheck(this,e),this.root_=t,this.reconcileBody_=0,this.clientWidth_=document.body.clientWidth,this.gap_=0,this.onResize=function(){document.body.style.width?(cancelAnimationFrame(r.reconcileBody_),r.reconcileBody_=requestAnimationFrame(function(){document.body.style.width=window.innerWidth-r.gap_+"px"})):r.clientWidth_=document.body.clientWidth},window.addEventListener("resize",this.onResize),this.onBodyChanged=function(e){var t=window.getComputedStyle(document.body).overflow;"hidden"==t?(r.gap_=window.innerWidth-r.clientWidth_,document.body.style.width=r.clientWidth_+"px"):(document.body.style.removeProperty("width"),r.clientWidth_=document.body.clientWidth)},this.observer_=new MutationObserver(this.onBodyChanged),this.observer_.observe(document.body,{attributes:!0,attributeFilter:["class"]})}return _createClass(e,null,[{key:"attachTo",value:function(t){return new e(t)}}]),_createClass(e,[{key:"destroy",value:function(){window.removeEventListener("resize",this.onResize),cancelAnimationFrame(this.reconcileBody_),this.observer_.disconnect()}}]),e}();dmc.register("DMCScrollLockFix",DMCScrollLockFix);var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),DMCSnackbar=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"initialize",value:function(){var e=this;this.snackbar_=mdc.snackbar.MDCSnackbar.attachTo(this.root_);var t=this.root_.querySelector(".mdc-snackbar__text");if(t){var r=void 0,n=void 0,o=Array.prototype.filter.call(t.childNodes,function(e){return e.nodeType===Node.TEXT_NODE}).map(function(e){return e.textContent.trim()}).join(" "),i=t.querySelector("a");i&&window.location.href!==i.href&&(r=i.textContent,n=function(){window.Turbolinks?window.Turbolinks.visit(i.href):window.location=i.href}),o&&setTimeout(function(){e.snackbar_.show({message:o,actionText:r,actionHandler:n,multiline:!0,timeout:4500})},300)}this.showSnackbar_=function(t){e.snackbar_.show(t.detail)},window.addEventListener("DMCSnackbar:show",this.showSnackbar_,!1)}},{key:"destroy",value:function(){this.snackbar_.destroy(),window.removeEventListener("DMCSnackbar:show",this.showSnackbar_)}}],[{key:"attachTo",value:function(e){return new t(e,new mdc.base.MDCFoundation)}}]),t}(mdc.base.MDCComponent);dmc.register("DMCSnackbar",DMCSnackbar);var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),DMCToggleDrawer=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"initialize",value:function(){var e=this;this.drawer_=document.getElementById(this.root_.dataset.toggleDrawerId),this.onClick=function(t){t.preventDefault();var r=!e.drawer_.DMCResponsiveDrawer.open;e.drawer_.DMCResponsiveDrawer.open=r},this.root_.addEventListener("click",this.onClick)}},{key:"destroy",value:function(){this.root_.removeEventListener("click",this.onClick)}}],[{key:"attachTo",value:function(e){return new t(e,new mdc.base.MDCFoundation)}}]),t}(mdc.base.MDCComponent);dmc.register("DMCToggleDrawer",DMCToggleDrawer);var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),DMCTurbolinksForm=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"performPostRequest",value:function(){var e=this;this.root_.querySelectorAll("button").forEach(function(e){return e.disabled=!0});var t=new XMLHttpRequest;t.open("POST",window.location.search,!0),t.setRequestHeader("Turbolinks-Referrer",window.location),t.onload=function(e){var r=t.getResponseHeader("turbolinks-location"),n=window.Turbolinks.Snapshot.wrap(t.response);r||(r=window.location.href),window.Turbolinks.controller.adapter.hideProgressBar(),window.Turbolinks.controller.cache.put(r,n),window.Turbolinks.visit(r,{action:"restore"}),window.Turbolinks.clearCache(),t.status>299&&Turbolinks.controller.disable()},t.onerror=function(t){window.Turbolinks.controller.adapter.hideProgressBar(),e.root_.querySelectorAll("button").forEach(function(e){return e.disabled=!1});var r=new CustomEvent("DMCSnackbar:show",{detail:{message:"Request error"}});window.dispatchEvent(r)},window.Turbolinks.controller.adapter.showProgressBarAfterDelay(),t.send(new FormData(this.root_))}},{key:"performGetRequest",value:function(){var e=Array.from(new FormData(this.root_).entries(),function(e){return e.map(encodeURIComponent).join("=")}).join("&");window.Turbolinks.visit(this.root_.action+(this.root_.action.indexOf("?")==-1?"?":"&")+e)}},{key:"initialize",value:function(){var e=this;return!!window.Turbolinks&&void("post"==this.root_.method?(this.onSubmit=function(t){t.preventDefault(),e.performPostRequest()},this.root_.addEventListener("submit",this.onSubmit)):(this.onSubmit=function(t){t.preventDefault(),e.performGetRequest()},this.root_.addEventListener("submit",this.onSubmit)))}},{key:"destroy",value:function(){this.onSubmit&&this.root_.removeEventListener("click",this.onSubmit)}}],[{key:"attachTo",value:function(e){return new t(e,new mdc.base.MDCFoundation)}}]),t}(mdc.base.MDCComponent);dmc.register("DMCTurbolinksForm",DMCTurbolinksForm);
//# sourceMappingURL=django-material-frontend.min.js.map
