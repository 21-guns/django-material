<!DOCTYPE html>{% load static %}
<html lang="en" class="mdc-typography">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>{% block title %}Django Material{% endblock %}</title>
  {% block global_css %}
  <link href="{% static 'material/css/material-components-web.css' %}" rel="stylesheet">
  <link href="{% static 'material/css/django-material-components.css' %}" rel="stylesheet">
  <link href="{% static 'material/css/django-material-frontend.css' %}" rel="stylesheet">
  <link href="{% static 'material/fonts/material-design-icons/material-icons.css' %}" rel="stylesheet">
  <link href="{% static 'material/fonts/roboto/style.css' %}" rel="stylesheet">
  {% endblock %}
  {% block global_js %}
  <script src="{% static 'material/js/turbolinks.js' %}"></script>
  <script src="{% static 'material/js/material-components-web.js' %}"></script>
  <script src="{% static 'material/js/django-material-components.js' %}"></script>
  <script src="{% static 'material/js/material-components-init.js' %}"></script>
  {% endblock %}
</head>
<body class="mdc-typography">
  {% with site=request.resolver_match.site app=request.resolver_match.app %}
  <aside class="mdc-persistent-drawer mdc-persistent-drawer--open" data-mdc-auto-init="DMCResponsiveDrawer">
    <nav class="mdc-persistent-drawer__drawer">
      <header class="mdc-persistent-drawer__header">
        <div class="mdc-persistent-drawer__header-content">
          Header here
        </div>
      </header>
      <nav class="mdc-persistent-drawer__content mdc-list">
        {% if app %}{% include app.menu_template_name with app=app %}{% endif %}
        {% if site %}{% include site.menu_template_name with site=site user=request.user only %}{% endif %}
      </nav>
    </nav>
  </aside>

  <div class="dmc-page">
  <header class="mdc-toolbar">
    <div class="mdc-toolbar__row">
      <section class="mdc-toolbar__section mdc-toolbar__section--align-start">
        <a href="#" class="material-icons mdc-toolbar__icon--menu">menu</a>
        <span class="mdc-toolbar__title">{{ app.title|default:site.title|default:"Django Material" }}</span>
      </section>
    </div>
  </header>
    <main class="dmc-page__content">{% block content %}{% endblock %}</main>
  </div>
{% endwith %}

<script type="text/javascript">
window.addEventListener('load', function() {
  //var drawer = document.querySelector('aside').MDCTemporaryDrawer
  var drawer = document.querySelector('aside').MDCPersistentDrawer
  document.querySelector('.mdc-toolbar__icon--menu').addEventListener('click', function(e) {
    e.preventDefault()
    drawer.open = !drawer.open
  })
})
</script>
</body>
</html>
